# test_antipoff

Описание задания:
Написать сервис, который принимает запрос с указанием кадастрового номера, широты и долготы, эмулирует отправку запроса на внешний сервер, который может обрабатывать запрос до 60 секунд. Затем должен отдавать результат запроса. Считается, что внешний сервер может ответить `true` или `false`.
Данные запроса на сервер и ответ с внешнего сервера должны быть сохранены в БД. Нужно написать АПИ для получения истории всех запросов/истории по кадастровому номеру.
Сервис должен содержать следующие эндпоинты:
"/query" - для получения запроса
“/result" - для отправки результата
"/ping" - проверка, что  сервер запустился
“/history” - для получения истории запросов
Добавить Админку.
Сервис завернуть в Dockerfile.
*В качестве дополнительного задания. Можно добавить дополнительный сервис, который будет принимать запросы первого сервиса и эмулировать внешний сервер.


## Запуск проекта

1. Клонировать репозиторий:
 - git clone https://github.com/KapetanVodichka/test_antipoff.git

2. В директории проекта ввести команду:
- docker-compose up --build

Можно протестировать и прочитать документацию через swagger (http://localhost:8001/api/schema/swagger-ui/), рекомендую активировать /query (при активации /query делается запрос на /simulate, который по окончании работы сделает запрос на /result). Пока выполняется /query можно протестировать /ping проверяющий работу внешнего сервера (/simulate). Пока не окончилась работа /query можно посмотреть через history созданный на /query объект, по окончании работы в объекте добавится результат true/false.

Можно протестировать через команду (python manage.py test)
